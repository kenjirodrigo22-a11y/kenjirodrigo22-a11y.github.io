<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Girasol y Mensaje üåª‚ù§Ô∏è</title>
<style>
html, body {
  width: 100%;
  height: 100vh;
  margin: 0;
  padding: 0;
  overflow: hidden;
  font-family: 'Georgia', serif;
  background: linear-gradient(to top, #87CEEB, #E0F7FF);
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

nav {
  position: absolute;
  top: 10px;
  width: 100%;
  text-align: center;
  z-index: 20;
}
nav a {
  margin: 0 15px;
  color: #fff;
  text-decoration: none;
  font-weight: bold;
  text-shadow: 0 0 5px #ff74a4;
  transition: color 0.3s;
}
nav a:hover { color: #ffb3c1; }

#musicBtn {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 20;
  padding: 8px 12px;
  background-color: #ff6b8b;
  border: none;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  border-radius: 5px;
  box-shadow: 0 0 5px #ff6b8b;
}
#musicBtn:hover { background-color: #ff4d88; }

svg { max-width: 90vw; max-height: 90vh; z-index: 5; }

.pasto { fill: #228B22; }
.dibujar { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: trazo 1.5s ease forwards; }
@keyframes trazo { to { stroke-dashoffset: 0; } }

.aparecer { opacity: 0; animation: fadeIn 1s ease forwards; }
@keyframes fadeIn { to { opacity: 1; } }

.corazon {
  position: absolute;
  font-size: 20px;
  color: #ff6b8b;
  will-change: transform, opacity;
  z-index: 15;
  filter: drop-shadow(0 0 5px #ff74a4);
}
@keyframes disparo-corazon {
  0% { opacity:0.9; transform:translate(0,0) scale(1); }
  80% { opacity:1; transform:translate(var(--x), var(--y)) scale(1.5); }
  100% { opacity:0; transform:translate(var(--x), var(--y)) scale(0); }
}

/* Mensaje en el rect√°ngulo de pasto */
#mensaje {
  position: absolute;
  bottom: 30px;
  width: 100%;
  text-align: center;
  color: #fff;
  font-size: clamp(1.5rem, 4vw, 2.5rem);
  text-shadow: 0 0 10px #ff74a4, 0 0 20px #ffb3c1;
  opacity: 0;
  z-index: 10;
  animation: glow 1.5s ease forwards;
}
@keyframes glow {
  0% { text-shadow: 0 0 5px #ff74a4; opacity: 0; }
  100% { text-shadow: 0 0 20px #ffb3c1, 0 0 40px #ff74a4; opacity: 1; }
}

/* Mariposas */
.mariposa {
  position: absolute;
  font-size: 18px;
  color: #ffdf00;
  opacity: 0.8;
  animation: volar 6s linear infinite;
}
@keyframes volar {
  0% { transform: translate(0,0) rotate(0deg); opacity:0; }
  20% { opacity:1; }
  80% { opacity:1; }
  100% { transform: translate(200px,-200px) rotate(360deg); opacity:0; }
}
</style>
</head>
<body>

<nav>
  <a href="index.html">Inicio</a>
  <a href="sorpresa.html">Sorpresa</a>
  <a href="sorpresa2.html">Sorpresa 2</a>
</nav>

<button id="musicBtn">Reproducir m√∫sica</button>
<audio id="backgroundMusic" loop>
  <source src="audio/musica3.mp3" type="audio/mpeg">
</audio>

<div id="mensaje"></div>

<svg viewBox="0 0 800 700">
  <circle cx="650" cy="100" r="60" fill="yellow" filter="url(#solGlow)"/>
  <rect y="600" width="800" height="100" class="pasto" />
  <line x1="400" y1="400" x2="400" y2="600" stroke="green" stroke-width="14" class="dibujar"/>
  <path d="M400,500 C330,460 320,550 400,560" fill="none" stroke="green" stroke-width="10" class="dibujar"/>
  <path d="M400,460 C470,420 480,520 400,530" fill="none" stroke="green" stroke-width="10" class="dibujar"/>

  <g transform="translate(400,300)">
    <defs>
      <filter id="solGlow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="8" result="blur"/>
        <feMerge>
          <feMergeNode in="blur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
      <path id="petalo" d="M0,0 C30,-100 60,-150 0,-200 C-60,-150 -30,-100 0,0" stroke="orange" fill="gold" stroke-width="2"/>
    </defs>

    <g id="petalos">
      <script type="text/ecmascript">
        const petaloGroup = document.currentScript.parentNode;
        for(let i=0; i<18; i++){
          const use = document.createElementNS("http://www.w3.org/2000/svg","use");
          use.setAttributeNS("http://www.w3.org/1999/xlink","href","#petalo");
          use.setAttribute("transform","rotate("+(i*20)+")");
          use.setAttribute("class","aparecer");
          use.style.animationDelay = (i*0.2)+"s";
          petaloGroup.appendChild(use);
        }
      </script>
    </g>

    <circle r="70" fill="#6b3e26" class="aparecer" style="animation-delay:4s"/>
    <g id="semillas">
      <circle cx="0" cy="0" r="4" fill="saddlebrown" class="aparecer" style="animation-delay:4.2s"/>
      <circle cx="10" cy="5" r="4" fill="saddlebrown" class="aparecer" style="animation-delay:4.4s"/>
      <circle cx="-12" cy="-8" r="4" fill="saddlebrown" class="aparecer" style="animation-delay:4.6s"/>
      <circle cx="15" cy="-12" r="4" fill="saddlebrown" class="aparecer" style="animation-delay:4.8s"/>
    </g>
  </g>
</svg>

<script>
  // M√∫sica
  const music = document.getElementById('backgroundMusic');
  const musicBtn = document.getElementById('musicBtn');
  musicBtn.addEventListener('click', ()=>{
    if(music.paused){ music.play(); musicBtn.textContent="Pausar m√∫sica";}
    else{ music.pause(); musicBtn.textContent="Reproducir m√∫sica";}
  });

  // Corazones flotantes
  function crearCorazon(){
    const corazon=document.createElement("div");
    corazon.classList.add("corazon");
    corazon.innerHTML="‚ù§";
    corazon.style.left=Math.random()*100+"vw";
    corazon.style.top="90vh";
    const x=(Math.random()*200-100)+"px";
    const y="-"+(Math.random()*200+200)+"px";
    corazon.style.setProperty("--x",x);
    corazon.style.setProperty("--y",y);
    corazon.style.animation="disparo-corazon 3s linear forwards";
    document.body.appendChild(corazon);
    setTimeout(()=>corazon.remove(),3000);
  }
  setInterval(crearCorazon,600);

  // Mensaje
  const mensajeTexto = "üåª ¬°Feliz D√≠a de las Flores Amarillas! üåª";
  const mensajeDiv = document.getElementById('mensaje');
  let index = 0;
  function escribirMensaje() {
    if(index < mensajeTexto.length){
      mensajeDiv.style.opacity = 1;
      mensajeDiv.innerHTML += mensajeTexto.charAt(index);
      index++;
      setTimeout(escribirMensaje, 100);
    }
  }
  setTimeout(escribirMensaje, 1000);

  // Mariposas
  function crearMariposa(){
    const m = document.createElement("div");
    m.classList.add("mariposa");
    m.innerHTML = "ü¶ã";
    m.style.left = Math.random()*70+"vw";
    m.style.top = Math.random()*50+"vh";
    document.body.appendChild(m);
    setTimeout(()=> m.remove(), 6000);
  }
  setInterval(crearMariposa, 4000);
</script>

</body>
</html>
